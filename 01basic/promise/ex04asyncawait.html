<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function promiseFunc(time){
            return new Promise((resolve, reject)=>{
                setTimeout(()=>{
                    resolve(time);
                },time)
            });
        }
        /*
        console.log("비동기시작");
        promiseFunc(1000)
        .then(time=>{
            console.log("time값은 : " + time);
            return promiseFunc(time+1000);
        })
        .then(time=>{
            console.log("time값은 : " + time);
            return promiseFunc(time+1000);
        })
        .then(time=>{
            console.log("time값은 : " + time);
            console.log("비동기끝");
        });
        */
        async function run(){
            console.log("비동기시작");
            let time = await promiseFunc(1000);
            console.log("time값은 : " + time);
            time = await promiseFunc(time+1000);
            console.log("time값은 : " + time);
            time = await promiseFunc(time+1000);
            console.log("time값은 : " + time);
            console.log("비동기끝");
        }  //Promise객체 리턴 
        async function run2(){
            console.log("부모시작");
            await run();
            console.log("부모끝");
        }
        console.log("부모부모시작");
        run2().then(()=>console.log("부모부모끝"));
       
      
        
    </script>
</head>
<body>
    
</body>
</html>